<html lang="en">
    <head>
        <meta charset="UTF-8">
        <link rel="stylesheet" href="dashboard.css">
        <link rel="icon" type="image/x-icon" href="favicon.png">
        <script type="module" src="wishlist.js"></script>
        <title>Movies Room</title>
    </head>
    <body> 
        <ul>
            <li style="float:left"><a id="home_button" href="dashboard.html">
                <img id="logo" src="favicon.png" style="width:42px;height:42px;margin-top: -13px;margin-left: -18px; margin-bottom: -11px;"></a></li>
            <li><a id="logout" style="cursor:pointer;">Logout</a></li>
            <li><a href="dashboard.html">
                <img id="heart_nav" src="heart.png" style="width:42px;height:42px;margin-top: -13px;margin-left: -18px; margin-bottom: -11px;"></a></li>
            <li><a id="username"></a></li>
        </ul>

        <div id="msg" style="visibility:visible;">
            <h1 id="msg_displayed">Loading movies...</h1>
        </div>

        <div id="container" style="visibility:hidden;">
            <input type="text" id="inputSearchBar" onkeyup="searchTable()" placeholder="Search">

            <table id="table_movies">
                <tr>
                    <th>Title</th>
                    <th>Year</th>
                    <th>Genre</th>
                    <th>Remove from WishList</th>
                </tr>
            </table>
        </div>

        

        <script>
            function searchTable() {
                var input, filter, table, tr, td, i, txtValue;
                input = document.getElementById("inputSearchBar");
                filter = input.value.toUpperCase();
                table = document.getElementById("table_movies");
                tr = table.getElementsByTagName("tr");
                for (i = 0; i < tr.length; i++) {
                    td = tr[i].getElementsByTagName("td")[0];
                    if (td) {
                        txtValue = td.textContent || td.innerText;
                        if (txtValue.toUpperCase().indexOf(filter) > -1) {
                            tr[i].style.display = "";
                            continue;
                        } else {
                            tr[i].style.display = "none";
                        }
                    }  
                    td = tr[i].getElementsByTagName("td")[1];
                    if (td) {
                        txtValue = td.textContent || td.innerText;
                        if (txtValue.toUpperCase().indexOf(filter) > -1) {
                            tr[i].style.display = "";
                            continue;
                        } else {
                            tr[i].style.display = "none";
                        }
                    } 
                    td = tr[i].getElementsByTagName("td")[2];
                    if (td) {
                        txtValue = td.textContent || td.innerText;
                        if (txtValue.toUpperCase().indexOf(filter) > -1) {
                            tr[i].style.display = "";
                            continue;
                        } else {
                            tr[i].style.display = "none";
                        }
                    } 
                }
            }
        </script>
    </body>

</html>